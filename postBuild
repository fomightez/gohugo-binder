#!/bin/bash

# ----------Install GO language -------------
# based on https://github.com/go-hep/binder/blob/master/postBuild
# and https://golang.org/dl/

set -e

GOVERS=1.13.6

mkdir -p \
	$HOME/.local/go/$GOVERS \
	$HOME/go

echo "::: install Go ${GOVERS}..."
curl -O -L https://golang.org/dl/go${GOVERS}.linux-amd64.tar.gz
tar -C $HOME/.local/go/$GOVERS -zxf go${GOVERS}.linux-amd64.tar.gz
/bin/rm go${GOVERS}.linux-amd64.tar.gz

export GOROOT=$HOME/.local/go/$GOVERS/go
export GOPATH=$HOME/go
export PATH=$GOPATH/bin:$GOROOT/bin:$PATH
echo $GOPATH


# Install up-to-date HUGO. Apt only is getting version 0.40
# Following directions at https://vexxhost.com/resources/tutorials/how-to-install-and-use-hugo-the-static-site-generator-on-ubuntu-14-04/
# and combining with more up to date info at  https://computingforgeeks.com/how-to-install-hugo-on-ubuntu-debian/
curl -O https://github.com/spf13/hugo/releases/download/v0.62.2/hugo_0.62.2_Linux-64bit.deb
dpkg -i hugo_0.62.2_Linux-64bit.deb